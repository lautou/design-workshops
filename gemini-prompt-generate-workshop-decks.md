# **Gemini project to generate google slide from json for Red Hat design workshops**

This is a project that automatically generates a Google Slide presentation from a JSON file.  
The JSON file is generated by Gemini from a prompt that is also generated automatically.

## **High level description of the project**

The project is composed of two main parts:

1. A prompt generator that will generate a prompt for Gemini to generate a JSON file.  
2. A slide generator that will generate a Google Slide presentation from the JSON file.

The project is designed to be used by Red Hat consultants to generate a presentation for a design workshop.  
The presentation is based on a template that is defined in a YAML file.  
The content of the presentation is generated by Gemini from a prompt that is also generated automatically.  
The project is composed of the following files:

* run.sh: a wrapper script to run the different commands of the project.  
* run\_pipeline.py: the main script that generates the prompt for Gemini.  
* run\_build.sh: a wrapper script to run the build commands of the project.  
* build\_slides\_from\_json.py: the script that generates the Google Slide presentation from the JSON file.  
* extract\_images.py: a script that extracts the images url from the JSON file and upload them to a S3 bucket.  
* workshops.yaml: a YAML file that describes the workshop to generate.  
* layouts.yaml: a YAML file that describes the layout of the presentation.  
* gemini-prompt-generate-json.md: a markdown file that contains the template of the prompt to generate the JSON file.  
* gemini-prompt-generate-workshop-decks.md: this file.

## **The run.sh script, the entrypoint of the project**

This script is a wrapper to the different commands of the project.  
The available commands are:

* generate-prompt: generate the prompt for Gemini to generate the JSON file.  
* generate-json: generate the JSON file from the prompt generated by the generate-prompt command.  
* run-pipeline: run the full pipeline to generate the prompt and the JSON file.

The user must provide the workshop name as an argument.  
The workshop name must be defined in the workshops.yaml file.  
Example:

./run.sh generate-prompt \--workshop-name "OCP Basic concepts and architecture overview"

This command will generate the prompt and print it to the standard output.  
The user can then copy the prompt and paste it to Gemini to generate the JSON file.  
When the user has generated the JSON file, he must save it in the json\_source directory with the name result.json.

Then the user can run the build commands to generate the presentation.

## **The run\_build.sh script, the build part of the project**

This script is a wrapper to the build commands of the project.  
The available commands are:

* extract: extract the images url from the JSON file and upload them to a S3 bucket.  
* build: generate the Google Slide presentation from the JSON file.

To run the build commands, the user must have the following environment variables set:

* S3\_BUCKET: the name of the S3 bucket to upload the images.  
* S3\_ENDPOINT: the endpoint of the S3 bucket.  
* S3\_ACCESS\_KEY: the access key of the S3 bucket.  
* S3\_SECRET\_KEY: the secret key of the S3 bucket.  
* GOOGLE\_SLIDES\_PRESENTATION\_ID: the id of the Google Slide presentation to update.

The user must also have the credentials.json file in the root directory of the project.  
This file contains the credentials to access the Google Slide API.  
The user must also have the token.json file in the root directory of the project.  
This file contains the token to access the Google Slide API.  
To generate the token.json file, the user must run the build\_slides\_from\_json.py script once with the \--noauth\_local\_webserver option.

python3 build\_slides\_from\_json.py \--noauth\_local\_webserver

This will open a browser to authenticate to the Google Slide API and generate the token.json file.

Then the user can run the build commands.  
Example:  
./run\_build.sh extract  
./run\_build.sh build

This will extract the images from the JSON file, upload them to the S3 bucket and generate the presentation.  
The presentation will be updated with the content of the JSON file.  
The presentation id is defined by the GOOGLE\_SLIDES\_PRESENTATION\_ID environment variable.  
The user can find the presentation id in the url of the presentation.  
Example: https://docs.google.com/presentation/d/1Z.../edit  
The presentation id is 1Z....

## **The workshops.yaml file**

This file describe the workshop to generate.  
It contains the following information:

* name: the name of the workshop.  
* json\_file\_base: the base name of the json file.  
* title: the title of the presentation.  
* subtitle: the subtitle of the presentation.  
* context: the context of the workshop.  
* documentation\_urls: a list of url to the documentation of the workshop.

## **The layouts.yaml file**

This file describes the layout of the presentation.  
It contains a list of layouts with the following information:

* layout\_name: the name of the layout to use from the Google Slide presentation template.  
* skippable: a boolean to indicate if the slide can be skipped if the content is empty.  
* content\_type: the type of content to generate for the slide.  
* content\_prompt: the prompt to generate the content of the slide.

The available content types are:

* title\_slide: a title slide with a title and a subtitle.  
* agenda: a slide with a list of topics.  
* simple\_title\_and\_content: a slide with a title and a content.  
* image\_fullscreen: a slide with a title and a fullscreen image.  
* image\_right: a slide with a title, a content and an image on the right.  
* image\_left: a slide with a title, a content and an image on the left.  
* table\_fullscreen: a slide with a title and a fullscreen table.  
* section\_header: a slide with a title.  
* q\_and\_a: a slide with a title and content for questions and answers.

## **The gemini-prompt-generate-json.md file**

This file contains the template of the prompt to generate the JSON file.  
It uses the information from the workshops.yaml and layouts.yaml files to generate the prompt.  
The prompt is generated by the run\_pipeline.py script.  
The script replaces the variables in the template with the values from the YAML files.  
The variables are identified by the {{ variable\_name }} syntax.